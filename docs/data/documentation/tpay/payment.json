{"seeAlsoSections":[{"title":"Use cases","identifiers":["doc:\/\/com.tpay.sdk\/documentation\/Tpay\/CardTokenization"],"generated":true}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"anchor":"Create-a-transaction","level":2,"type":"heading","text":"Create a transaction"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can create a transaction using the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.tpay.sdk\/documentation\/Tpay\/SingleTransaction"},{"type":"text","text":" struct specifying the transaction’s amount and description."}]},{"type":"codeListing","syntax":"swift","code":["let singleTransaction = SingleTransaction(amount: 50.0, description: \"Product Purchase\")"]},{"anchor":"Payer-context","level":3,"type":"heading","text":"Payer context"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The payer context provides information about the payer, including their personal details and automatic payment methods. You can pass it along with transaction details."}]},{"type":"codeListing","syntax":"swift","code":["let payer = Payer(name: \"John Doe\", email: \"john@example.com\")","let payerContext = PayerContext(payer: payer, automaticPaymentMethods: nil)","let singleTransaction = SingleTransaction(amount: 50.0, description: \"Product Purchase\", payerContext: payerContext)"]},{"style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""}]}],"type":"aside","name":"Note"},{"anchor":"Recursive-transaction","level":3,"type":"heading","text":"Recursive transaction"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For recurring transactions, you shall create an instance of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.tpay.sdk\/documentation\/Tpay\/RecursiveTransaction"},{"type":"text","text":" specifying recursion parameters such as the frequency, quantity, and expiry date."}]},{"type":"codeListing","syntax":"swift","code":["let recursiveTransaction = RecursiveTransaction(wrapping: singleTransaction,","                                                frequency: .monthly,","                                                quantity: .count(5),","                                                expiryDate: futureDate)"]},{"anchor":"Present-Tpay-module-payment-sheet","level":2,"type":"heading","text":"Present Tpay module payment sheet"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"Sheet"},{"type":"text","text":" class simplifies the presentation of payment transactions by encapsulating the following features:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Automatic Configuration Check:"}]},{"type":"text","text":" The class automatically checks the configuration before presenting the payment sheet to ensure a smooth payment experience."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Presentation Logic:"}]},{"type":"text","text":" The payment sheet is presented in a modal style, providing a focused and intuitive payment interaction."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Delegate Interaction:"}]},{"type":"text","text":" The class interacts with the provided "},{"type":"codeVoice","code":"PaymentDelegate"},{"type":"text","text":" to notify about payment completion or cancellation."}]}]}]},{"anchor":"Initializing-the-Sheet","level":3,"type":"heading","text":"Initializing the Sheet"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To create an instance of the "},{"type":"codeVoice","code":"Sheet"},{"type":"text","text":" class, initialize it with a "},{"type":"codeVoice","code":"Transaction"},{"type":"text","text":" object and an optional "},{"type":"codeVoice","code":"PaymentDelegate"},{"type":"text","text":":"}]},{"type":"codeListing","syntax":"swift","code":["let paymentSheet = Sheet(transaction: transaction, delegate: delegate)"]},{"anchor":"Presenting-the-Payment-Sheet","level":3,"type":"heading","text":"Presenting the Payment Sheet"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use the "},{"type":"codeVoice","code":"present(from:)"},{"type":"text","text":" method to present the payment sheet from a view controller:"}]},{"type":"codeListing","syntax":"swift","code":["do {","    try paymentSheet.present(from: presentingViewController)","} catch {","    \/\/ Handle configuration errors or other exceptions","}"]},{"anchor":"Handling-Events-and-Interaction","level":3,"type":"heading","text":"Handling Events and Interaction"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"Sheet"},{"type":"text","text":" class automatically manages interaction with the payment sheet and the delegate:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The payment sheet is dismissed when the payment process is completed or cancelled."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The delegate’s methods are called to inform about payment completion or cancellation."}]}]}]},{"anchor":"Dismissing-the-Payment-Sheet","level":3,"type":"heading","text":"Dismissing the Payment Sheet"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To dismiss the payment sheet manually, call the "},{"type":"codeVoice","code":"dismiss()"},{"type":"text","text":" method:"}]},{"type":"codeListing","syntax":"swift","code":["paymentSheet.dismiss()"]}]}],"variants":[{"paths":["\/documentation\/tpay\/payment"],"traits":[{"interfaceLanguage":"swift"}]},{"paths":["\/documentation\/tpay\/payment"],"traits":[{"interfaceLanguage":"occ"}]}],"identifier":{"url":"doc:\/\/com.tpay.sdk\/documentation\/Tpay\/Payment","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Creating and processing payment transactions."}],"kind":"article","metadata":{"modules":[{"name":"Tpay"}],"role":"article","title":"Payment"},"hierarchy":{"paths":[["doc:\/\/com.tpay.sdk\/documentation\/Tpay"]]},"topicSections":[{"title":"Classes","identifiers":["doc:\/\/com.tpay.sdk\/documentation\/Tpay\/Payment\/Button","doc:\/\/com.tpay.sdk\/documentation\/Tpay\/Payment\/Sheet"]}],"references":{"doc://com.tpay.sdk/documentation/Tpay/RecursiveTransaction":{"role":"symbol","title":"RecursiveTransaction","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RecursiveTransaction"}],"abstract":[{"type":"text","text":"The "},{"type":"codeVoice","code":"RecursiveTransaction"},{"type":"text","text":" struct represents a recursive transaction. It extends a specified transaction object with recursion parameters such as the frequency, quantity, and expiry date."}],"identifier":"doc:\/\/com.tpay.sdk\/documentation\/Tpay\/RecursiveTransaction","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"RecursiveTransaction"}],"url":"\/documentation\/tpay\/recursivetransaction"},"doc://com.tpay.sdk/documentation/Tpay":{"role":"collection","title":"Tpay","abstract":[],"identifier":"doc:\/\/com.tpay.sdk\/documentation\/Tpay","kind":"symbol","type":"topic","url":"\/documentation\/tpay"},"doc://com.tpay.sdk/documentation/Tpay/SingleTransaction":{"role":"symbol","title":"SingleTransaction","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"SingleTransaction"}],"abstract":[{"type":"text","text":"The "},{"type":"codeVoice","code":"SingleTransaction"},{"type":"text","text":" struct represents a single transaction with associated properties such as the transaction amount, description, and payer context."}],"identifier":"doc:\/\/com.tpay.sdk\/documentation\/Tpay\/SingleTransaction","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"SingleTransaction"}],"url":"\/documentation\/tpay\/singletransaction"},"doc://com.tpay.sdk/documentation/Tpay/Payment/Sheet":{"role":"symbol","title":"Payment.Sheet","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Sheet"}],"abstract":[{"type":"text","text":"The "},{"type":"codeVoice","code":"Sheet"},{"type":"text","text":" class provides a streamlined way to present payment transactions within your app."}],"identifier":"doc:\/\/com.tpay.sdk\/documentation\/Tpay\/Payment\/Sheet","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Sheet"}],"url":"\/documentation\/tpay\/payment\/sheet"},"doc://com.tpay.sdk/documentation/Tpay/CardTokenization":{"role":"collectionGroup","title":"Card tokenization","abstract":[],"identifier":"doc:\/\/com.tpay.sdk\/documentation\/Tpay\/CardTokenization","kind":"article","type":"topic","url":"\/documentation\/tpay\/cardtokenization"},"doc://com.tpay.sdk/documentation/Tpay/Payment/Button":{"role":"symbol","title":"Payment.Button","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Button"}],"abstract":[],"identifier":"doc:\/\/com.tpay.sdk\/documentation\/Tpay\/Payment\/Button","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Button"}],"url":"\/documentation\/tpay\/payment\/button"}},"variantOverrides":[{"patch":[{"op":"replace","path":"\/identifier\/interfaceLanguage","value":"occ"},{"op":"replace","path":"\/topicSections","value":null},{"op":"replace","path":"\/seeAlsoSections","value":[{"title":"Use cases","identifiers":["doc:\/\/com.tpay.sdk\/documentation\/Tpay\/CardTokenization"],"generated":true}]}],"traits":[{"interfaceLanguage":"occ"}]}]}